<custom-nav></custom-nav>
<!--membership-records/index.wxml-->
<view class="records-container">
  <view class="header">
    <view class="title">会员购买记录</view>
  </view>
  
  <!-- 购买记录列表 -->
  <view class="records-list" wx:if="{{records.length > 0}}">
    <view 
      class="record-item {{item.status === 'active' ? 'active' : 'expired'}}" 
      wx:for="{{records}}" 
      wx:key="id"
      bindtap="viewOrderDetail"
      data-id="{{item.id}}"
    >
      <view class="record-header">
        <view class="record-plan">{{item.planName}}</view>
        <view class="record-status">{{item.status === 'active' ? '使用中' : '已过期'}}</view>
      </view>
      
      <view class="record-info">
        <view class="info-item">
          <text class="info-label">支付金额：</text>
          <text class="info-value">¥{{item.price}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">购买时间：</text>
          <text class="info-value">{{item.purchaseTime}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">到期时间：</text>
          <text class="info-value">{{item.expireTime}}</text>
        </view>
        <view class="info-item">
          <text class="info-label">订单号：</text>
          <text class="info-value order-number">{{item.orderNumber}}</text>
        </view>
      </view>
      
      <view class="record-footer">
        <view class="footer-text">点击查看详情</view>
      </view>
    </view>
  </view>
  
  <!-- 空记录提示 -->
  <view class="empty-records" wx:elif="{{!loading && records.length === 0}}">
    <image class="empty-icon" src="../../images/empty.png"></image>
    <view class="empty-text">暂无购买记录</view>
  </view>
  
  <!-- 加载中提示 -->
  <view class="loading" wx:if="{{loading}}">
    <view class="loading-icon"></view>
    <view class="loading-text">加载中...</view>
  </view>
  
  <!-- 加载更多提示 -->
  <view class="load-more" wx:if="{{!loading && hasMore && records.length > 0}}">
    <view class="more-text">上拉加载更多</view>
  </view>
  
  <!-- 没有更多数据提示 -->
  <view class="no-more" wx:if="{{!loading && !hasMore && records.length > 0}}">
    <view class="more-text">没有更多记录了</view>
  </view>
</view> 
